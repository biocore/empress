!function(a){function u(i){var n,o;function l(){var e=i.column.editorFixedDecimalPlaces;return void 0===e&&(e=u.DefaultDecimalPlaces),e||0===e?e:null}this.init=function(){(n=a("<INPUT type=text class='editor-text' />")).on("keydown.nav",function(e){e.keyCode!==a.ui.keyCode.LEFT&&e.keyCode!==a.ui.keyCode.RIGHT||e.stopImmediatePropagation()}),n.appendTo(i.container),n.focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){o=e[i.column.field];var t=l();null!==t&&(o||0===o)&&o.toFixed&&(o=o.toFixed(t)),n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){var e=parseFloat(n.val());u.AllowEmptyValue?e||0===e||(e=""):e=e||0;var t=l();return null!==t&&(e||0===e)&&e.toFixed&&(e=parseFloat(e.toFixed(t))),e},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){if(isNaN(n.val()))return{valid:!1,msg:"Please enter a valid number"};if(i.column.validator){var e=i.column.validator(n.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}a.extend(!0,window,{Slick:{Editors:{Text:function(i){var t,n;this.init=function(){t=a("<INPUT type=text class='editor-text' />").appendTo(i.container).on("keydown.nav",function(e){e.keyCode!==a.ui.keyCode.LEFT&&e.keyCode!==a.ui.keyCode.RIGHT||e.stopImmediatePropagation()}).focus().select()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.getValue=function(){return t.val()},this.setValue=function(e){t.val(e)},this.loadValue=function(e){n=e[i.column.field]||"",t.val(n),t[0].defaultValue=n,t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""==t.val()&&null==n)&&t.val()!=n},this.validate=function(){if(i.column.validator){var e=i.column.validator(t.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Integer:function(i){var t,n;this.init=function(){(t=a("<INPUT type=text class='editor-text' />")).on("keydown.nav",function(e){e.keyCode!==a.ui.keyCode.LEFT&&e.keyCode!==a.ui.keyCode.RIGHT||e.stopImmediatePropagation()}),t.appendTo(i.container),t.focus().select()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){n=e[i.column.field],t.val(n),t[0].defaultValue=n,t.select()},this.serializeValue=function(){return parseInt(t.val(),10)||0},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""==t.val()&&null==n)&&t.val()!=n},this.validate=function(){if(isNaN(t.val()))return{valid:!1,msg:"Please enter a valid integer"};if(i.column.validator){var e=i.column.validator(t.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Float:u,Date:function(i){var t,n,o=!1;this.init=function(){(t=a("<INPUT type=text class='editor-text' />")).appendTo(i.container),t.focus().select(),t.datepicker({showOn:"button",buttonImageOnly:!0,beforeShow:function(){o=!0},onClose:function(){o=!1}}),t.width(t.width()-18)},this.destroy=function(){a.datepicker.dpDiv.stop(!0,!0),t.datepicker("hide"),t.datepicker("destroy"),t.remove()},this.show=function(){o&&a.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){o&&a.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(e){o&&a.datepicker.dpDiv.css("top",e.top+30).css("left",e.left)},this.focus=function(){t.focus()},this.loadValue=function(e){n=e[i.column.field],t.val(n),t[0].defaultValue=n,t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""==t.val()&&null==n)&&t.val()!=n},this.validate=function(){if(i.column.validator){var e=i.column.validator(t.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},YesNoSelect:function(i){var t,n;this.init=function(){(t=a("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>")).appendTo(i.container),t.focus()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.val((n=e[i.column.field])?"yes":"no"),t.select()},this.serializeValue=function(){return"yes"==t.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return t.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()},Checkbox:function(i){var t,n;this.init=function(){(t=a("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(i.container),t.focus()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){(n=!!e[i.column.field])?t.prop("checked",!0):t.prop("checked",!1)},this.preClick=function(){t.prop("checked",!t.prop("checked"))},this.serializeValue=function(){return t.prop("checked")},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return this.serializeValue()!==n},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentComplete:function(i){var n,t,o;this.init=function(){(n=a("<INPUT type=text class='editor-percentcomplete' />")).width(a(i.container).innerWidth()-25),n.appendTo(i.container),(t=a("<div class='editor-percentcomplete-picker' />").appendTo(i.container)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),t.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),n.focus().select(),t.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:o,slide:function(e,t){n.val(t.value)}}),t.find(".editor-percentcomplete-buttons button").on("click",function(e){n.val(a(this).attr("val")),t.find(".editor-percentcomplete-slider").slider("value",a(this).attr("val"))})},this.destroy=function(){n.remove(),t.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val(o=e[i.column.field]),n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&(parseInt(n.val(),10)||0)!=o},this.validate=function(){return isNaN(parseInt(n.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},LongText:function(i){var t,n,o,l=this;this.init=function(){var e=a("body");n=a("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(e),t=a("<TEXTAREA hidefocus rows=5 style='background:white;width:250px;height:80px;border:0;outline:0'>").appendTo(n),a("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(n),n.find("button:first").on("click",this.save),n.find("button:last").on("click",this.cancel),t.on("keydown",this.handleKeyDown),l.position(i.position),t.focus().select()},this.handleKeyDown=function(e){e.which==a.ui.keyCode.ENTER&&e.ctrlKey?l.save():e.which==a.ui.keyCode.ESCAPE?(e.preventDefault(),l.cancel()):e.which==a.ui.keyCode.TAB&&e.shiftKey?(e.preventDefault(),i.grid.navigatePrev()):e.which==a.ui.keyCode.TAB&&(e.preventDefault(),i.grid.navigateNext())},this.save=function(){i.commitChanges()},this.cancel=function(){t.val(o),i.cancelChanges()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.position=function(e){n.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){n.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.val(o=e[i.column.field]),t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""==t.val()&&null==o)&&t.val()!=o},this.validate=function(){if(i.column.validator){var e=i.column.validator(t.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}}}}),u.DefaultDecimalPlaces=null,u.AllowEmptyValue=!1}(jQuery);