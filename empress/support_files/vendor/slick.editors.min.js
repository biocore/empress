!function(e){function i(n){var l,a,s=this;function r(){var e=n.column.editorFixedDecimalPlaces;return void 0===e&&(e=i.DefaultDecimalPlaces),e||0===e?e:null}this.args=n,this.init=function(){var i=n.grid.getOptions().editorCellNavOnLRKeys;l=e("<INPUT type=text class='editor-text' />").appendTo(n.container).on("keydown.nav",i?t:o).focus().select(),n.compositeEditorOptions&&l.on("change",function(){var e=n.grid.getActiveCell();s.validate().valid&&s.applyValue(s.args.item,s.serializeValue()),s.applyValue(s.args.compositeEditorOptions.formValues,s.serializeValue()),n.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:s.args.item,column:s.args.column,formValues:s.args.compositeEditorOptions.formValues})})},this.destroy=function(){l.remove()},this.focus=function(){l.focus()},this.loadValue=function(e){a=e[n.column.field];var i=r();null!==i&&(a||0===a)&&a.toFixed&&(a=a.toFixed(i)),l.val(a),l[0].defaultValue=a,l.select()},this.serializeValue=function(){var e=parseFloat(l.val());i.AllowEmptyValue?e||0===e||(e=""):e=e||0;var t=r();return null!==t&&(e||0===e)&&e.toFixed&&(e=parseFloat(e.toFixed(t))),e},this.applyValue=function(e,i){e[n.column.field]=i},this.isValueChanged=function(){return!(""===l.val()&&null==a)&&l.val()!=a},this.validate=function(){if(isNaN(l.val()))return{valid:!1,msg:"Please enter a valid number"};if(n.column.validator){var e=n.column.validator(l.val(),n);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function t(i){var t=this.selectionStart,o=this.value.length;(i.keyCode===e.ui.keyCode.LEFT&&t>0||i.keyCode===e.ui.keyCode.RIGHT&&t<o-1)&&i.stopImmediatePropagation()}function o(i){i.keyCode!==e.ui.keyCode.LEFT&&i.keyCode!==e.ui.keyCode.RIGHT||i.stopImmediatePropagation()}i.DefaultDecimalPlaces=null,i.AllowEmptyValue=!1,e.extend(!0,window,{Slick:{Editors:{Text:function(i){var n,l,a=this;this.args=i,this.init=function(){var l=i.grid.getOptions().editorCellNavOnLRKeys;n=e("<INPUT type=text class='editor-text' />").appendTo(i.container).on("keydown.nav",l?t:o).focus().select(),i.compositeEditorOptions&&n.on("change",function(){var e=i.grid.getActiveCell();a.validate().valid&&a.applyValue(a.args.item,a.serializeValue()),a.applyValue(a.args.compositeEditorOptions.formValues,a.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:a.args.item,column:a.args.column,formValues:a.args.compositeEditorOptions.formValues})})},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.getValue=function(){return n.val()},this.setValue=function(e){n.val(e)},this.loadValue=function(e){l=e[i.column.field]||"",n.val(l),n[0].defaultValue=l,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===n.val()&&null==l)&&n.val()!=l},this.validate=function(){if(i.column.validator){var e=i.column.validator(n.val(),i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Integer:function(i){var n,l,a=this;this.args=i,this.init=function(){var l=i.grid.getOptions().editorCellNavOnLRKeys;n=e("<INPUT type=text class='editor-text' />").appendTo(i.container).on("keydown.nav",l?t:o).focus().select(),i.compositeEditorOptions&&n.on("change",function(){var e=i.grid.getActiveCell();a.validate().valid&&a.applyValue(a.args.item,a.serializeValue()),a.applyValue(a.args.compositeEditorOptions.formValues,a.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:a.args.item,column:a.args.column,formValues:a.args.compositeEditorOptions.formValues})})},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){l=e[i.column.field],n.val(l),n[0].defaultValue=l,n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===n.val()&&null==l)&&n.val()!=l},this.validate=function(){if(isNaN(n.val()))return{valid:!1,msg:"Please enter a valid integer"};if(i.column.validator){var e=i.column.validator(n.val(),i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Float:i,Date:function(i){var t,o,n=this,l=!1;this.args=i,this.init=function(){(t=e("<INPUT type=text class='editor-text' />")).appendTo(i.container),t.focus().select(),t.datepicker({showOn:"button",buttonImageOnly:!0,beforeShow:function(){l=!0},onClose:function(){if(l=!1,i.compositeEditorOptions){var e=i.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})}}}),t.width(t.width()-(i.compositeEditorOptions?28:18))},this.destroy=function(){e.datepicker.dpDiv.stop(!0,!0),t.datepicker("hide"),t.datepicker("destroy"),t.remove()},this.show=function(){l&&e.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){l&&e.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(i){l&&e.datepicker.dpDiv.css("top",i.top+30).css("left",i.left)},this.focus=function(){t.focus()},this.loadValue=function(e){o=e[i.column.field],t.val(o),t[0].defaultValue=o,t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===t.val()&&null==o)&&t.val()!=o},this.validate=function(){if(i.column.validator){var e=i.column.validator(t.val(),i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},YesNoSelect:function(i){var t,o,n=this;this.args=i,this.init=function(){(t=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>")).appendTo(i.container),t.focus(),i.compositeEditorOptions&&t.on("change",function(){var e=i.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})})},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.val((o=e[i.column.field])?"yes":"no"),t.select()},this.serializeValue=function(){return"yes"==t.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return t.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()},Checkbox:function(i){var t,o,n=this;this.args=i,this.init=function(){(t=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(i.container),t.focus(),i.compositeEditorOptions&&t.on("change",function(){var e=i.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})})},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){(o=!!e[i.column.field])?t.prop("checked",!0):t.prop("checked",!1)},this.preClick=function(){t.prop("checked",!t.prop("checked"))},this.serializeValue=function(){return t.prop("checked")},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return this.serializeValue()!==o},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentComplete:function(i){var t,o,n,l=this;this.args=i,this.init=function(){(t=e("<INPUT type=text class='editor-percentcomplete' />")).width(e(i.container).innerWidth()-25),t.appendTo(i.container),(o=e("<div class='editor-percentcomplete-picker' />").appendTo(i.container)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),o.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),t.focus().select(),o.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:n,slide:function(e,i){t.val(i.value)},stop:function(e,t){if(i.compositeEditorOptions){var o=i.grid.getActiveCell();l.validate().valid&&l.applyValue(l.args.item,l.serializeValue()),l.applyValue(l.args.compositeEditorOptions.formValues,l.serializeValue()),i.grid.onCompositeEditorChange.notify({row:o.row,cell:o.cell,item:l.args.item,column:l.args.column,formValues:l.args.compositeEditorOptions.formValues})}}}),o.find(".editor-percentcomplete-buttons button").on("click",function(i){t.val(e(this).attr("val")),o.find(".editor-percentcomplete-slider").slider("value",e(this).attr("val"))})},this.destroy=function(){t.remove(),o.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.val(n=e[i.column.field]),t.select()},this.serializeValue=function(){return parseInt(t.val(),10)||0},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===t.val()&&null==n)&&(parseInt(t.val(),10)||0)!=n},this.validate=function(){return isNaN(parseInt(t.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},LongText:function(i){var t,o,n,l=this;this.args=i,this.init=function(){var n=i.compositeEditorOptions,a=(i.grid.getOptions().editorCellNavOnLRKeys,n?i.container:e("body"));o=e("<DIV class='slick-large-editor-text' style='z-index:10000;background:white;padding:5px;border:3px solid gray; border-radius:10px;'/>").appendTo(a),n?o.css({position:"relative",padding:0,border:0}):o.css({position:"absolute"}),t=e("<TEXTAREA hidefocus rows=5 style='background:white;width:250px;height:80px;border:0;outline:0'>").appendTo(o),n?t.on("change",function(){var e=i.grid.getActiveCell();l.validate().valid&&l.applyValue(l.args.item,l.serializeValue()),l.applyValue(l.args.compositeEditorOptions.formValues,l.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:l.args.item,column:l.args.column,formValues:l.args.compositeEditorOptions.formValues})}):(e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(o),o.find("button:first").on("click",this.save),o.find("button:last").on("click",this.cancel),t.on("keydown",this.handleKeyDown),l.position(i.position)),t.focus().select()},this.handleKeyDown=function(t){if(t.which==e.ui.keyCode.ENTER&&t.ctrlKey)l.save();else if(t.which==e.ui.keyCode.ESCAPE)t.preventDefault(),l.cancel();else if(t.which==e.ui.keyCode.TAB&&t.shiftKey)t.preventDefault(),i.grid.navigatePrev();else if(t.which==e.ui.keyCode.TAB)t.preventDefault(),i.grid.navigateNext();else if((t.which==e.ui.keyCode.LEFT||t.which==e.ui.keyCode.RIGHT)&&i.grid.getOptions().editorCellNavOnLRKeys){var o=this.selectionStart,n=this.value.length;t.keyCode===e.ui.keyCode.LEFT&&0===o&&i.grid.navigatePrev(),t.keyCode===e.ui.keyCode.RIGHT&&o>=n-1&&i.grid.navigateNext()}},this.save=function(){i.commitChanges()},this.cancel=function(){t.val(n),i.cancelChanges()},this.hide=function(){o.hide()},this.show=function(){o.show()},this.position=function(e){o.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){o.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.val(n=e[i.column.field]),t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===t.val()&&null==n)&&t.val()!=n},this.validate=function(){if(i.column.validator){var e=i.column.validator(t.val(),i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}}}})}(jQuery);